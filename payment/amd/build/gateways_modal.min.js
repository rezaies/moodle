define ("core_payment/gateways_modal",["exports","core/modal_factory","core/templates","core/str","core_payment/repository","./selectors","core/modal_events"],function(a,b,c,d,e,f,g){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.registerEventListeners=void 0;b=h(b);c=h(c);f=h(f);g=function(a){if(a&&a.__esModule){return a}else{var b={};if(null!=a){for(var c in a){if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};if(d.get||d.set){Object.defineProperty(b,c,d)}else{b[c]=a[c]}}}}b.default=a;return b}}(g);function h(a){return a&&a.__esModule?a:{default:a}}a.registerEventListeners=function registerEventListeners(a){var b=document.querySelector(a);b.addEventListener("click",function(a){a.preventDefault();i(b,{focusOnClose:a.target})})};var i=function(a){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=h.focusOnClose,j=void 0===i?null:i;c.default.render("core_payment/gateways_modal",{}).done(function(h){b.default.create({title:(0,d.get_string)("selectpaymenttype","core_payment"),body:h}).done(function(b){var d=a.dataset.currency;(0,e.getGatewaysSupportingCurrency)(d).done(function(a){var d={gateways:[]},e=!0,g=!1,h=void 0;try{for(var i=a[Symbol.iterator](),j,k;!(e=(j=i.next()).done);e=!0){k=j.value;d.gateways.push(k)}}catch(a){g=!0;h=a}finally{try{if(!e&&null!=i.return){i.return()}}finally{if(g){throw h}}}c.default.render("core_payment/gateways",d).done(function(a,d){c.default.replaceNodeContents(b.getRoot().find(f.default.regions.gatewaysContainer),a,d)})});b.getRoot().on(g.hidden,function(){b.destroy();try{j.focus()}catch(a){}});b.show()})})}});
//# sourceMappingURL=gateways_modal.min.js.map
