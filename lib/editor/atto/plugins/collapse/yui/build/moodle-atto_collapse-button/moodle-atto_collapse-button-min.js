YUI.add("moodle-atto_collapse-button",function(e,t){var s="atto_collapse",o="showgroups",a="collapse",l="collapsed",n=".atto_group";e.namespace("M.atto_collapse").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{initializer:function(){var t,i=e.Object.size(this.get("host").get("plugins"));i<=1+parseInt(this.get(o),10)||this.toolbar.all(n).size()>this.get(o)||(t=this.addButton({icon:"icon",iconComponent:s,callback:this._toggle}),this.get("host").on("pluginsloaded",function(t,i){this._setVisibility(i),i.setAttribute("aria-expanded","false"),this.toolbar.all(n).item(this.get(o)).insert('<div class="toolbarbreak"></div>',"before")},this,t))},_toggle:function(t){t.preventDefault();var i=this.buttons[a];i.getData(l)?(this.highlightButtons(a),this._setVisibility(i,!0)):(this.unHighlightButtons(a),this._setVisibility(i)),this.buttons[this.name].focus()},_setVisibility:function(t,i){var e=this.toolbar.all(n).slice(this.get(o));i?(t.set("title",M.util.get_string("showfewer",s)),e.show(),t.setData(l,!1),t.setAttribute("aria-expanded","true")):(t.set("title",M.util.get_string("showmore",s)),e.hide(),t.setData(l,!0),t.setAttribute("aria-expanded","false"))}},{ATTRS:{showgroups:{value:3}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});